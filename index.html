<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jogo da Memória - Belz Conecta</title>
  <meta name="theme-color" content="#011147" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />
  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.webmanifest" />
  <!-- Fontes estilo jogo -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link href="https://fonts.cdnfonts.com/css/game-over" rel="stylesheet" />
  <link rel="icon" href="img/img2.png" />
</head>
<body>
  <main id="app">
    <!-- Tela inicial -->
  <section id="start-screen" class="screen active" aria-labelledby="titulo-inicial">
      <div class="start-panel" role="group" aria-describedby="descricao-jogo">
  <h1 id="titulo-inicial" class="game-title" aria-label="Jogo da Memória Belz Conecta">
             <span class="brand-belz" aria-hidden="true">JOGO DA MEMÓRIA</span>
          </h1>
        <p id="descricao-jogo" class="tagline">Encontre todos os pares antes que o tempo acabe! </p>
        <div class="options-row">
          <div class="field">
            <label for="difficulty-select">Dificuldade</label>
            <select id="difficulty-select" aria-label="Selecionar dificuldade">
              <option value="facil">Fácil (4x3)</option>
              <option value="medio" selected>Médio (5x4)</option>
              <option value="dificil">Difícil (6x5)</option>
            </select>
          </div>
          <!-- Checkbox de verso único removido -->
        </div>
        <div class="buttons">
          <button id="start-btn" class="btn primary pulse blob-btn" aria-label="Iniciar jogo">
            <span class="blob b1"></span>
            <span class="blob b2"></span>
            <span class="blob b3"></span>
            <span class="blob b4"></span>
            <span class="label">Jogar</span>
          </button>
        </div>
        <div class="howto-inline" role="group" aria-label="Instruções do jogo">
          <ul class="howto-list compact">
            <li>1. Escolha dificuldade</li>
            <li>2. Vire 2 cartas</li>
            <li>3. Forme pares</li>
            <li>4. Antes do tempo!</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Tela do jogo -->
    <section id="game-screen" class="screen" aria-live="polite" aria-label="Área do jogo">
      <div class="stage">
        <div class="stage-content">
          <header class="top-bar">
            <div class="timer-wrapper" aria-label="Cronômetro">
              <span class="icon" aria-hidden="true">⏱️</span>
              <span id="timer" class="timer-text">Tempo: 60</span>
            </div>
            <div class="status" id="pairs-status" aria-label="Pares encontrados"></div>
            <button id="end-btn" class="mini-btn end-game-btn" aria-label="Encerrar jogo antecipadamente">Encerrar</button>
          </header>
          <div id="game-board" class="game-board" role="grid" aria-label="Cartas do jogo"></div>
        </div>
      </div>
    </section>

  <!-- Tela final -->
  <section id="end-screen" class="screen" aria-labelledby="end-message">
  <div class="end-box slide-up">
        <h2 id="end-message" class="end-message"></h2>
        <div class="stats" id="final-stats"></div>
        <button id="restart-btn" class="btn secondary" aria-label="Jogar novamente">Jogar Novamente</button>
        <button id="home-btn" class="btn primary pulse blob-btn" style="margin-top:18px" aria-label="Voltar à tela inicial">
          <span class="blob b1"></span>
          <span class="blob b2"></span>
          <span class="blob b3"></span>
          <span class="blob b4"></span>
          <span class="label">Voltar à Tela Inicial</span>
        </button>
      </div>
      <div class="end-frame-wrapper" aria-hidden="true">
        <p class="end-frame-msg">Escaneie o QR Code abaixo. Poste sua conquista e nos marque!</p>
        <img src="img/frame.png" alt="" class="end-frame" />
      </div>
    </section>
  </main>

  <!-- Overlay de transição -->
  <div id="transition-overlay" class="overlay hidden"></div>
  <!-- Tela de carregamento -->
  <div id="loading-screen" class="loading hidden" aria-live="polite">
    <div class="loader"></div>
    <p class="loading-text">Carregando imagens...</p>
  </div>

  <script src="script.js" defer></script>
  <script defer>
    // Registro do Service Worker para funcionamento offline no totem
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js').catch(e=>console.warn('SW falhou', e));
      });
    }
  </script>
</body>
</html>
